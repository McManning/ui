/**
 * Styles that are direct overrides from those provided by Bootstrap 4
 *
 * We encapsulate these within an overrides scss in order to keep track
 * of what we're actually modifying from the base library, for whenever
 * we update the base library
 *
 * This file is for form component overrides
 *
 */

// Bootstrap 4.0.0a6 does not support borders for custom controls
.custom-checkbox .custom-control-indicator {
    border: 1px solid $input-border-color;
    background-color: $white;

    @include box-shadow($input-box-shadow);
}

.custom-radio .custom-control-indicator {
    border: 1px solid $input-border-color;
    background-color: $white;
}

// If it's checked, remove the border
.custom-control-input:checked ~ .custom-control-indicator {
    border: none;
}

.custom-controls-stacked {
    padding-bottom: 1em;

    .custom-control:last-child {
        margin-bottom: 0;
    }
}

// Bootstrap provides .custom-controls-stacked but nothing
// for horizontal controls that we want to pad below for
// spacing components in the same .form-group
.custom-controls {
    padding-bottom: 1em;

    .custom-control {
        margin-bottom: 0;
    }
}

// Placement correction for file upload box in a .form-group
.form-group .custom-file {
    display: block;
}

// Color correction for file upload box.
// TODO: Is this a setting somewhere in BS4?
.custom-file-control,
.custom-file-control::before {
    border: 1px solid $gray;
}

// Customize form group to have a bottom border and 2em spacing
// between itself and other form groups
.form-group {
    border-bottom: 1px solid $gray-lighter;
    padding-bottom: 2em;
    margin: 2em 0;

    // Replication of Bootstrap's .has-danger
    &.is-error {
        @include form-control-validation($brand-danger);
    }

    // Enforce 1em padding between components in a form group
    textarea,
    input,
    select,
    label,
    .input-group {
        margin-bottom: 1em;
    }

    // Inline error messages
    .form-error {
        color: $brand-danger;
        padding-bottom: 1em;

        .fa {
            padding-right: 0.5em;
        }
    }

    // Do NOT colorize form labels for error states
    &.is-error label {
        color: $body-color;
    }

    // Required star for form groups.
    // Attaches to the first label or legend found
    &.is-required > label:first-child:after,
    &.is-required > legend:first-child:after {
        color: #bb0000;
        font-family: FontAwesome;
        font-size: 0.5em;
        padding-left: 0.5em;
        vertical-align: top;
        content: "\f069";
    }
}
